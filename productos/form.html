{% extends "base.html" %}

{% block content %}

<div class="card">
  <div class="card-body">

    {% if producto %}
      <h4>Editar producto</h4>
      <form method="post" action="/productos/actualizar/{{ producto.id }}">
    {% else %}
      <h4>Nuevo producto</h4>
      <form method="post" action="/productos/guardar">
    {% endif %}

      <div class="mb-3">
        <label>Nombre</label>
        <input class="form-control" name="nombre"
               value="{{ producto.nombre if producto else '' }}" required>
      </div>

      <div class="row">
        <div class="col-md-4 mb-3">
          <label>Costo (precio compra)</label>
          <input type="number" step="0.01" class="form-control" name="precio_compra"
                 value="{{ producto.precio_compra if producto else '' }}" required>
        </div>

        <div class="col-md-4 mb-3">
          <label>Precio de venta</label>
          <input type="number" step="0.01" class="form-control" name="precio_venta"
                 value="{{ producto.precio_venta if producto else '' }}" required>
        </div>

        {% if producto %}
        <div class="col-md-4 mb-3 d-flex align-items-end">
          <div class="form-check">
            <input type="checkbox" class="form-check-input" name="activo"
                   {% if producto.activo %}checked{% endif %}>
            <label class="form-check-label">Producto activo</label>
          </div>
        </div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label>Descripci√≥n</label>
        <textarea class="form-control" name="descripcion">{{ producto.descripcion if producto else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label>Contenido</label>
        <textarea class="form-control" name="contenido" rows="3">{{ producto.contenido if producto else '' }}</textarea>
      </div>

      <button class="btn btn-success">Guardar</button>
      <a href="/productos" class="btn btn-secondary">Volver</a>

    </form>

  </div>
</div>

{% endblock %}
